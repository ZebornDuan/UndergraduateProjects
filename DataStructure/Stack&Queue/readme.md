# Stack & Queue 栈和队列

栈和队列是经过封装的线性数据结构，分别具有First In Last Out和First In First Out的特性。对这两种数据结构应当结合其特性在适当的场景下应用，并能够结合具体情况对其进行拓展。例如图的遍历中，深度优先搜索利用了栈结构，宽度优先搜索利用了队列结构。双端队列作为队列的一种拓展也是常用的结构。

## 练习



1. 利用两个栈实现一个队列，完成其enqueue和dequeue接口。
2. 利用两个栈实现一个具有min接口的栈，使得能够在均摊O(1)时间复杂度下获得当前栈中元素的最小值。
3. 不使用其他的数据结构，弹出栈底元素，其他元素次序不变。(LRU 替换策略)
4. 不使用其他的数据结构，将栈内元素翻转。
5. 使用一个额外的栈结构，对一个给定的栈排序。
6. 给定两个整数序列，第一个序列表示栈的压入顺序，判断第二个序列是否为该栈的一个弹出顺序。
7. 给定一个数组和滑动窗口的大小，找出所有滑动窗口里数值的最大值。例如，如果输入数组{2,3,4,2,6,2,5,1}及滑动窗口的大小3，那么一共存在6个滑动窗口，他们的最大值分别为{4,4,6,6,6,5}； 针对数组{2,3,4,2,6,2,5,1}的滑动窗口有以下6个： {[2,3,4],2,6,2,5,1}， {2,[3,4,2],6,2,5,1}， {2,3,[4,2,6],2,5,1}， {2,3,4,[2,6,2],5,1}， {2,3,4,2,[6,2,5],1}， {2,3,4,2,6,[2,5,1]}。

以上参考代码见answers.cpp。以下为来自清华大学计算机系数据结构课程2016秋季学期的两道练习PA1-3与PA2-1。

```
描述：
栈是一种强大的数据结构，它的一种特殊功能是对数组进行排序。
例如，借助一个栈，依次将数组1,3,2按顺序入栈或出栈，可对其从大到小排序：
1入栈；3入栈；3出栈；2入栈；2出栈；1出栈。
在上面这个例子中，出栈序列是3,2,1，因此实现了对数组的排序。
遗憾的是，有些时候，仅仅借助一个栈，不能实现对数组的完全排序。例如给定数组2,1,3，借助一个栈，能获得的字典序最大的出栈序列是3,1,2：
2入栈；1入栈；3入栈；3出栈；1出栈；2出栈。
请你借助一个栈，对一个给定的数组按照出栈顺序进行从大到小排序。
当无法完全排序时，请输出字典序最大的出栈序列。

输入：
共2行。
第一行包含一个整数n，表示入栈序列长度。
第二行包含n个整数，表示入栈序列。输入数据保证给定的序列是1到n的全排列，即不会出现重复数字。

输出：
仅一行，共n个整数，表示你计算出的出栈序列。

输入样例：
3
2 1 3

输出样例：
3 1 2

数据范围：
1 <= n <= 2,000,000

资源限制：
时间限制：1 sec
内存限制：256 MB

```
参考代码见stackSort.cpp
```
描述：
“天下大势，分久必合，合久必分”，股市亦是如此：新股不断发行，旧股相继退出。从发行到退出之间的时段，称作股票的活跃期。
为简化起见，这里不妨假定活跃期均以交易日为基本单位，并以股市开市之（第零）日作为统一起点。
比如，若股票A“在第123天发行并于第130天退出”，则其活跃期为第123至129天共计7天，记作[123, 130)。
另外，不妨假定各股票在其活动期内价格不变——否则，可等效于原股票退出，同时发行一支定价更新的股票。
Q王国的股市虽不能脱俗，却亦有其与众不同之处。
在该国的股市中，禁止不同股票的活跃期相互包含。
比如，无论是[100, 150)和[120, 130)、[120, 130)和[120, 150)、[100, 130)和[120, 130)，甚至是[120, 130)和[120, 130)，都不会同时作为股票的活跃期。也就是说，每天发行和退市的股票累计不超过一支。
M先生是Q王国公认的股神，他的策略既稳妥也简单。所谓稳妥是指，任何时候的投资总额都保持固定，如此可保证风险（risk）有限。
所谓简单是指，每天都将所有的投资集中用于购入当日价格最低的一支股票（为此可能需要先卖出原持有股票，交易所需时间忽略不计），如此他的持股量每天都能保持最大——在Q王国，这可是评估股市收益的首要指标。

不过，尽管M先生十分希望精确地知道自己在一段时期内的日均持股量，但对于此类计算他却毫无自信。于是终于有一天，他揣着长长的一叠股市历史记录，敲响了你的家门。

输入：
第1行为1个正整数N。
接下来的2N行，按照日期升序排列地描述股票的历史，包含以下两种格式的事件：
　　D X  //在上一事件之后的第D天有一支股票发行，且按M先生的投资额可购入X股
　　D    //在上一事件之后的第D天有一支股票退市
其中，除首个事件的D值可能为0，其余D值均为正整数。X的值均为非负整数。
输入的时间序列合法，即保证活跃股票数始终非负。

输出：
输出自股市开市至最后一支股票退出期间，M先生的日均持股量乘以天数。

输入样例：
6
2 100
2 200
5
1 150
1
2 100
2 300
2 200
2
3
1
2
输出样例：
5000    // 5000 = 200.00股 * 25天

数据范围：
1 <= N <= 1,000,000
0 <= X < 2^31
股市的营业期不超过 2^31 - 1 天

资源限制：
时间限制：1 sec
内存限制：256 MB

```
参考代码见stock.cpp